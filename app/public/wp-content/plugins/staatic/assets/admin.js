!function(){var e={641:function(e,t,s){"use strict";s.r(t),s.d(t,{CrawlItems:function(){return d},default:function(){return u}});var a=s(196),n=s(736),i=s(609),l=s(307),r=s(697),o=s.n(r);class c extends l.Component{onKeyUp(e){13===e.charCode&&this.setState({inputValue:e.target.value})}render(){const{index:e,item:t,onChange:s,onDelete:l,placeholderText:r,showFollow:o,showSave:c}=this.props,d=e=>{"Enter"===e.key&&e.preventDefault()},u=t.isEnabled?"":"staatic-disabled";return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("input",{type:"checkbox",defaultChecked:t.isEnabled,onChange:t=>s(e,"isEnabled",t.target.checked),onKeyDown:d}),(0,a.createElement)("input",{type:"text",value:t.value,placeholder:r||"",className:`staatic-value ${u}`,onChange:t=>s(e,"value",t.target.value),onKeyDown:d}),o?(0,a.createElement)("label",{title:(0,n.__)("Enable to extract links from this item.","staatic"),className:u},(0,a.createElement)("input",{type:"checkbox",defaultChecked:!t.dontFollow,onChange:t=>s(e,"dontFollow",!t.target.checked),onKeyDown:d}),(0,n.__)("Follow","staatic")):null,c?(0,a.createElement)("label",{title:(0,n.__)("Enable to include this item in the build.","staatic"),className:u},(0,a.createElement)("input",{type:"checkbox",defaultChecked:!t.dontSave,onChange:t=>s(e,"dontSave",!t.target.checked),onKeyDown:d}),(0,n.__)("Save","staatic")):null,(0,a.createElement)("button",{onClick:t=>{t.preventDefault(),l(e)},className:"staatic-delete"},(0,a.createElement)(i.Dashicon,{icon:"trash"}),(0,n.__)("Delete","staatic")))}}c.propTypes={index:o().number.isRequired,item:o().object.isRequired,placeholderText:o().string,showFollow:o().bool,showSave:o().bool};class d extends l.Component{constructor(e){super(...arguments),this.state={items:this.getItems(),editAsText:!1},this.handleToggleEditMode=this.handleToggleEditMode.bind(this),this.handleChange=this.handleChange.bind(this),this.handleDelete=this.handleDelete.bind(this)}componentDidMount(){document.getElementById(this.props.name).style.display="none"}componentDidUpdate(e,t){t.items!==this.state.items&&this.updateItems()}getItems(){const e=document.getElementById(this.props.name).value,t=[];return e.split("\n").forEach((function(e){const s=e.match(/^(#?)\s*(\S+)\s*([FST]*)$/);if(!s)return;const[,a,n,i]=s;t.push({isEnabled:!a,value:n,dontTouch:i.includes("T"),dontFollow:i.includes("F"),dontSave:i.includes("S")})})),t}updateItems(){let e="";this.state.items.forEach((function(t){if(!t.value)return;let s="";t.dontTouch&&(s+="T"),t.dontFollow&&(s+="F"),t.dontSave&&(s+="S"),e+=(t.isEnabled?"":"# ")+t.value+(s?` ${s}`:"")+"\n"})),document.getElementById(this.props.name).value=e}handleToggleEditMode(){document.getElementById(this.props.name).style.display=this.state.editAsText?"none":"inline-block",this.state.editAsText&&this.setState({items:this.getItems()}),this.setState({editAsText:!this.state.editAsText})}handleAddItem(){this.setState({items:[...this.state.items,{isEnabled:!0,value:"",dontTouch:!1,dontFollow:!1,dontSave:!1}]})}handleChange(e,t,s){"value"==t&&(s=s.replace(/\s/g,""));const a=[...this.state.items];a[e][t]=s,this.setState({items:a})}handleDelete(e){const t=[...this.state.items];t.splice(e,1),this.setState({items:t})}render(){const{placeholderText:e,addButtonText:t,showFollow:s,showSave:l}=this.props;return this.state.editAsText?(0,a.createElement)("div",{className:"staatic-list-toggle"},(0,a.createElement)("a",{onClick:this.handleToggleEditMode},(0,n.__)("Visual mode","staatic"))):(0,a.createElement)("div",null,(0,a.createElement)("div",{className:"staatic-list-toggle"},(0,a.createElement)("a",{onClick:this.handleToggleEditMode},(0,n.__)("Text mode","staatic"))),(0,a.createElement)("div",{className:"staatic-list"},this.state.items.map(((t,n)=>(0,a.createElement)("div",{key:n,className:"staatic-item"},(0,a.createElement)(c,{index:n,item:t,onChange:this.handleChange,onDelete:this.handleDelete,placeholderText:e,showFollow:"true"===s,showSave:"true"===l})))),(0,a.createElement)("button",{className:"staatic-add",onClick:e=>{e.preventDefault(),this.handleAddItem()}},(0,a.createElement)(i.Dashicon,{icon:"plus"}),t||(0,n.__)("Add item","staatic"))))}}d.propTypes={name:o().string.isRequired,placeholderText:o().string,addButtonText:o().string,showFollow:o().string,showSave:o().string};var u=d},845:function(e,t,s){"use strict";s.r(t),s.d(t,{DestinationUrl:function(){return o}});var a=s(196),n=s(736),i=s(307),l=s(697),r=s.n(l);class o extends i.Component{constructor(e){super(e),this.valueInputRef=React.createRef(),this.setInitialState()}setInitialState(){const e=document.getElementById(this.props.name).value;this.state=""===e?{type:"offline",value:""}:{type:"regular",value:e}}componentDidMount(){document.getElementById(this.props.name).style.display="none"}componentDidUpdate(){this.updateExternalValue()}updateExternalValue(){const e="offline"===this.state.type?"":this.state.value;document.getElementById(this.props.name).value=e}handleChange(e,t){this.setState({[e]:t}),"type"===e&&"regular"===t&&setTimeout((()=>this.valueInputRef.current.focus()),50)}render(){return(0,a.createElement)("div",null,(0,a.createElement)("div",{className:"staatic-destination-url"},(0,a.createElement)("fieldset",null,(0,a.createElement)("div",null,(0,a.createElement)("input",{id:"destination-url-type-regular",type:"radio",value:"regular",checked:"regular"===this.state.type,onChange:e=>this.handleChange("type",e.target.value)})),(0,a.createElement)("div",{className:"staatic-field"},(0,a.createElement)("label",{htmlFor:"destination-url-type-regular"},(0,n.__)("Regular URL","staatic")),(0,a.createElement)("input",{ref:this.valueInputRef,className:"staatic-value",type:"text",value:this.state.value,disabled:"regular"!==this.state.type,onChange:e=>this.handleChange("value",e.target.value)}),(0,a.createElement)("p",{className:"description",dangerouslySetInnerHTML:{__html:(0,n.__)("Using an <em>absolute</em> URL (e.g. <code>https://example.com/</code>) is recommended for production use. Alternatively a <em>relative</em> URL (e.g. <code>//example.com/</code> or <code>/</code>) can be used to host your site on multiple schemes or domains. If the URL contains a <em>path</em> other than <code>/</code>, it will be prepended to all URLs, allowing the site to be placed in a subdirectory.","staatic")}}))),this.props.hideOfflineUrl?null:(0,a.createElement)("fieldset",null,(0,a.createElement)("div",null,(0,a.createElement)("input",{id:"destination-url-type-offline",type:"radio",value:"offline",checked:"offline"===this.state.type,onChange:e=>this.handleChange("type",e.target.value)})),(0,a.createElement)("div",{className:"staatic-field"},(0,a.createElement)("label",{htmlFor:"destination-url-type-offline"},(0,n.__)("Offline URL","staatic")),(0,a.createElement)("p",{className:"description",dangerouslySetInnerHTML:{__html:(0,n.__)("Using offline URLs is recommended only when you would like to be able to browse your site locally, without hosting it on a webserver.","staatic")}})))))}}o.propTypes={name:r().string.isRequired,hideOfflineUrl:r().bool},t.default=o},647:function(e,t,s){"use strict";s.r(t),s.d(t,{ExcludedUrls:function(){return d},default:function(){return u}});var a=s(196),n=s(736),i=s(609),l=s(307),r=s(697),o=s.n(r);class c extends l.Component{render(){const{index:e,item:t,onChange:s,onDelete:l}=this.props,r=e=>{"Enter"===e.key&&e.preventDefault()},o=t.isEnabled?"":"staatic-disabled";return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("input",{type:"checkbox",defaultChecked:t.isEnabled,onChange:t=>s(e,"isEnabled",t.target.checked),onKeyDown:r}),(0,a.createElement)("input",{type:"text",value:t.value,placeholder:(0,n.__)("URL","staatic"),className:`staatic-value ${o}`,onChange:t=>s(e,"value",t.target.value),onKeyDown:r}),(0,a.createElement)("button",{onClick:t=>{t.preventDefault(),l(e)},className:"staatic-delete"},(0,a.createElement)(i.Dashicon,{icon:"trash"}),(0,n.__)("Delete","staatic")))}}c.propTypes={index:o().number.isRequired,item:o().object.isRequired};class d extends l.Component{constructor(e){super(...arguments),this.state={items:this.getItems(),editAsText:!1},this.handleToggleEditMode=this.handleToggleEditMode.bind(this),this.handleChange=this.handleChange.bind(this),this.handleDelete=this.handleDelete.bind(this)}componentDidMount(){document.getElementById(this.props.name).style.display="none"}componentDidUpdate(e,t){t.items!==this.state.items&&this.updateItems()}getItems(){const e=document.getElementById(this.props.name).value,t=[];return e.split("\n").forEach((function(e){const s=e.match(/^(#?)\s*(\S+)$/);if(!s)return;const[,a,n]=s;t.push({isEnabled:!a,value:n})})),t}updateItems(){let e="";this.state.items.forEach((function(t){t.value&&(e+=(t.isEnabled?"":"# ")+t.value+"\n")})),document.getElementById(this.props.name).value=e}handleToggleEditMode(){document.getElementById(this.props.name).style.display=this.state.editAsText?"none":"inline-block",this.state.editAsText&&this.setState({items:this.getItems()}),this.setState({editAsText:!this.state.editAsText})}handleAddItem(){this.setState({items:[...this.state.items,{isEnabled:!0,value:""}]})}handleChange(e,t,s){"value"==t&&(s=s.replace(/\s/g,""));const a=[...this.state.items];a[e][t]=s,this.setState({items:a})}handleDelete(e){const t=[...this.state.items];t.splice(e,1),this.setState({items:t})}render(){return this.state.editAsText?(0,a.createElement)("div",{className:"staatic-list-toggle"},(0,a.createElement)("a",{onClick:this.handleToggleEditMode},(0,n.__)("Visual mode","staatic"))):(0,a.createElement)("div",null,(0,a.createElement)("div",{className:"staatic-list-toggle"},(0,a.createElement)("a",{onClick:this.handleToggleEditMode},(0,n.__)("Text mode","staatic"))),(0,a.createElement)("div",{className:"staatic-list"},this.state.items.map(((e,t)=>(0,a.createElement)("div",{key:t,className:"staatic-item"},(0,a.createElement)(c,{index:t,item:e,onChange:this.handleChange,onDelete:this.handleDelete})))),(0,a.createElement)("button",{className:"staatic-add",onClick:e=>{e.preventDefault(),this.handleAddItem()}},(0,a.createElement)(i.Dashicon,{icon:"plus"}),(0,n.__)("Add URL","staatic"))))}}d.propTypes={name:o().string.isRequired};var u=d},143:function(e,t,s){"use strict";s.r(t),s.d(t,{GithubStatus:function(){return u}});var a=s(196),n=s(989),i=s.n(n),l=s(307),r=s(609),o=s(736),c=s(697),d=s.n(c);class u extends l.Component{constructor(e){super(...arguments),this.tokenInput=document.getElementById(this.props.token),this.token=this.tokenInput.value,this.state={loading:!1,error:!1,status:null},this.updateStatus=this.updateStatus.bind(this)}componentDidMount(){this.bindInputs(),this.setupIntersectionObserver()}bindInputs(){this.tokenInput.addEventListener("change",(e=>this.handleTokenInput(e)))}componentWillUnmount(){this.observer&&this.observer.disconnect()}setupIntersectionObserver(){this.observer=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(this.updateStatus(),this.observer.unobserve(this.tokenInput))}))}),{root:null,threshold:.1}),this.observer.observe(this.tokenInput)}handleTokenInput(e){const{value:t}=e.target;this.token=t,this.updateStatus()}updateStatus(){this.token&&(this.setState({loading:!0,error:!1}),i()({path:"staatic-github/v1/github-status",method:"POST",data:{token:this.token}}).then((({status:e})=>{this.setState({loading:!1,status:e})})).catch((e=>{this.setState({loading:!1,error:!0}),console.error(e)})))}render(){const{instanceId:e}=this.props;if(this.state.error)return(0,a.createElement)("div",{className:"staatic-github-status"},(0,a.createElement)("p",null,(0,a.createElement)(r.Dashicon,{icon:"warning"}),(0,o.__)("Unable to verify connection status, please try again later.","staatic")));if(this.state.loading)return(0,a.createElement)("div",{className:"staatic-github-status"},(0,a.createElement)("p",null,(0,a.createElement)(r.Dashicon,{icon:"update",className:"spin"}),(0,o.__)("Verifying connection status...","staatic")));const{status:t}=this.state;return t?(0,a.createElement)("div",{className:"staatic-github-status"},(0,a.createElement)("p",{className:t.success?"staatic-success":"staatic-error"},(0,a.createElement)(r.Dashicon,{icon:t.success?"yes":"no"}),t.message),t.detail?(0,a.createElement)("p",{className:"staatic-detail"},t.detail):""):null}}u.propTypes={token:d().string.isRequired},t.default=u},996:function(e,t,s){"use strict";s.r(t),s.d(t,{NetlifyStatus:function(){return u}});var a=s(196),n=s(989),i=s.n(n),l=s(307),r=s(609),o=s(736),c=s(697),d=s.n(c);class u extends l.Component{constructor(e){super(...arguments),this.tokenInput=document.getElementById(this.props.token),this.siteIdInput=document.getElementById(this.props.siteId),this.token=this.tokenInput.value,this.siteId=this.siteIdInput.value,this.state={loading:!1,error:!1,status:null},this.updateStatus=this.updateStatus.bind(this)}componentDidMount(){this.bindInputs(),this.setupIntersectionObserver()}bindInputs(){this.tokenInput.addEventListener("change",(e=>this.handleTokenInput(e))),this.siteIdInput.addEventListener("change",(e=>this.handleSiteIdInput(e)))}componentWillUnmount(){this.observer&&this.observer.disconnect()}setupIntersectionObserver(){this.observer=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(this.updateStatus(),this.observer.unobserve(this.tokenInput))}))}),{root:null,threshold:.1}),this.observer.observe(this.tokenInput)}handleTokenInput(e){const{value:t}=e.target;this.token=t,this.updateStatus()}handleSiteIdInput(e){const{value:t}=e.target;this.siteId=t,this.updateStatus()}updateStatus(){this.token&&(this.setState({loading:!0,error:!1}),i()({path:"staatic-netlify/v1/netlify-status",method:"POST",data:{token:this.token,siteId:this.siteId}}).then((({status:e})=>{this.setState({loading:!1,status:e})})).catch((e=>{this.setState({loading:!1,error:!0}),console.error(e)})))}render(){const{instanceId:e}=this.props;if(this.state.error)return(0,a.createElement)("div",{className:"staatic-netlify-status"},(0,a.createElement)("p",null,(0,a.createElement)(r.Dashicon,{icon:"warning"}),(0,o.__)("Unable to verify connection status, please try again later.","staatic")));if(this.state.loading)return(0,a.createElement)("div",{className:"staatic-netlify-status"},(0,a.createElement)("p",null,(0,a.createElement)(r.Dashicon,{icon:"update",className:"spin"}),(0,o.__)("Verifying connection status...","staatic")));const{status:t}=this.state;return t?(0,a.createElement)("div",{className:"staatic-netlify-status"},(0,a.createElement)("p",{className:t.success?"staatic-success":"staatic-error"},(0,a.createElement)(r.Dashicon,{icon:t.success?"yes":"no"}),t.message),t.detail?(0,a.createElement)("p",{className:"staatic-detail"},t.detail):""):null}}u.propTypes={token:d().string.isRequired,siteId:d().string},t.default=u},325:function(e,t,s){"use strict";s.r(t),s.d(t,{PublicationLogs:function(){return u}});var a=s(196),n=s(989),i=s.n(n),l=s(307),r=s(609),o=s(736),c=s(697),d=s.n(c);class u extends l.Component{constructor(e){super(...arguments),this.state={loading:!0,error:!1,publication:null,logs:[]},this.interval=null,this.updateLogs=this.updateLogs.bind(this)}componentDidMount(){this.updateLogs()}componentWillUnmount(){this.interval&&clearInterval(this.interval)}updateLogs(){i()({path:"staatic/v1/publication-logs",method:"POST",data:{id:this.props.id}}).then((({publication:e,logs:t})=>{this.setState({loading:!1,publication:e,logs:t});const s="pending"===e.status||"in_progress"===e.status;s&&!this.interval?this.interval=setInterval(this.updateLogs,2e3):!s&&this.interval&&clearInterval(this.interval)})).catch((e=>{this.setState({loading:!1,error:!0}),console.error(e),this.interval&&clearInterval(this.interval)}))}render(){const{instanceId:e}=this.props;return this.state.error?(0,a.createElement)("div",{className:"staatic-publication-logs"},(0,a.createElement)("p",null,(0,a.createElement)(r.Dashicon,{icon:"warning"}),(0,o.__)("Unable to load publication logs, please try again later","staatic"))):this.state.loading?(0,a.createElement)("div",{className:"staatic-publication-logs"},(0,a.createElement)("p",null,(0,a.createElement)(r.Dashicon,{icon:"update",className:"spin"}),(0,o.__)("Loading publication logs","staatic"))):(0,a.createElement)("div",{className:"staatic-publication-logs"},(0,a.createElement)("ul",null,this.state.logs.map((e=>(0,a.createElement)("li",{key:e.id,className:"staatic-log-level-"+e.level},(0,a.createElement)("span",{className:"staatic-date"},e.dateFormatted," - "),e.source?(0,a.createElement)("span",null,e.source," - "):"",(0,a.createElement)("span",{className:"staatic-message"},e.message))))))}}u.propTypes={id:d().string.isRequired},t.default=u},27:function(e,t,s){"use strict";s.r(t),s.d(t,{PublicationStatus:function(){return u}});var a=s(196),n=s(989),i=s.n(n),l=s(307),r=s(609),o=s(736),c=s(697),d=s.n(c);class u extends l.Component{constructor(e){super(...arguments),this.state={loading:!0,error:!1,publication:null,progress:null},this.interval=null,this.updateStatus=this.updateStatus.bind(this)}componentDidMount(){this.updateStatus()}componentWillUnmount(){this.interval&&clearInterval(this.interval)}updateStatus(){i()({path:"staatic/v1/publication-status",method:"POST",data:{id:this.props.id}}).then((({publication:e,progress:t})=>{this.setState({loading:!1,publication:e,progress:t});const s="pending"===e.status||"in_progress"===e.status;s&&!this.interval?this.interval=setInterval(this.updateStatus,2e3):!s&&this.interval&&(clearInterval(this.interval),location.reload())})).catch((e=>{this.setState({loading:!1,error:!0}),console.error(e),this.interval&&clearInterval(this.interval)}))}renderProgressBar(e,t){switch(e){case"crawl":return this.renderCrawlProgressBar(t);case"deploy":return this.renderDeployProgressBar(t);default:return""}}renderCrawlProgressBar(e){const t=e.crawlPercent,s=parseInt(t)+"%";return(0,a.createElement)("div",{className:"staatic-progress-bar"},(0,a.createElement)("div",{className:"staatic-progress-bar-inner",style:{width:t+"%"}},(0,a.createElement)("span",null,e.numUrlsCrawled," / ~",e.numUrlsCrawlable," (",s,")")))}renderDeployProgressBar(e){const t=e.deployPercent,s=parseInt(t)+"%";return(0,a.createElement)("div",{className:"staatic-progress-bar"},(0,a.createElement)("div",{className:"staatic-progress-bar-inner",style:{width:t+"%"}},(0,a.createElement)("span",null,e.numResultsDeployed," / ~",e.numResultsDeployable," (",s,")")))}renderStatus(e){const{publication:t,progress:s}=this.state;switch(e){case"pending":return(0,a.createElement)("p",null,(0,o.__)("Publication is pending processing.","staatic"));case"in_progress":return(0,a.createElement)("div",null,(0,a.createElement)("p",null,(0,a.createElement)(r.Dashicon,{icon:"update",className:"spin"}),t.currentTask?t.currentTask.description:(0,o.__)("Preparing publication.","staatic")),t.currentTask?this.renderProgressBar(t.currentTask.name,s):"");case"finished":return(0,a.createElement)("div",null,(0,a.createElement)("p",null,(0,a.createElement)(r.Dashicon,{icon:"smiley"}),(0,o.__)("Deployed","staatic")+" "+s.dateDeploymentFinished,t.publisher?" "+(0,o.__)("by","staatic")+" "+t.publisher:""),(0,a.createElement)("p",null,(0,a.createElement)(r.Dashicon,{icon:"clock"}),(0,o.__)("Total time taken:","staatic")+" "+s.timeTaken));default:return(0,a.createElement)("p",null,(0,a.createElement)(r.Dashicon,{icon:"warning"}),(0,o.__)("Publication has failed.","staatic"))}}render(){const{instanceId:e}=this.props;return this.state.error?(0,a.createElement)("div",{className:"staatic-publication-status"},(0,a.createElement)("p",null,(0,a.createElement)(r.Dashicon,{icon:"warning"}),(0,o.__)("Unable to load publication status, please try again later.","staatic"))):this.state.loading?(0,a.createElement)("div",{className:"staatic-publication-status"},(0,a.createElement)("p",null,(0,a.createElement)(r.Dashicon,{icon:"update",className:"spin"}),(0,o.__)("Loading publication status.","staatic"))):(0,a.createElement)("div",{className:"staatic-publication-status"},this.renderStatus(this.state.publication.status))}}u.propTypes={id:d().string.isRequired},t.default=u},181:function(e,t,s){"use strict";s.r(t),s.d(t,{RedirectItems:function(){return d},default:function(){return u}});var a=s(196),n=s(736),i=s(609),l=s(307),r=s(697),o=s.n(r);class c extends l.Component{render(){const{index:e,item:t,onChange:s,onDelete:l}=this.props,r=e=>{"Enter"===e.key&&e.preventDefault()},o=t.isEnabled?"":"staatic-disabled";return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("input",{type:"checkbox",defaultChecked:t.isEnabled,onChange:t=>s(e,"isEnabled",t.target.checked),onKeyDown:r}),(0,a.createElement)("input",{type:"text",value:t.path,placeholder:(0,n.__)("Original path"),className:`staatic-value ${o}`,onChange:t=>s(e,"path",t.target.value),onKeyDown:r}),(0,a.createElement)("input",{type:"text",value:t.redirectUrl,placeholder:(0,n.__)("Redirect URL"),className:`staatic-value ${o}`,onChange:t=>s(e,"redirectUrl",t.target.value),onKeyDown:r}),(0,a.createElement)("select",{value:t.statusCode,className:o,onChange:t=>s(e,"statusCode",t.target.value),onKeyDown:r},(0,a.createElement)("option",null),(0,a.createElement)("option",{value:"301"},"301 Moved Permanently"),(0,a.createElement)("option",{value:"302"},"302 Found"),(0,a.createElement)("option",{value:"307"},"307 Temporary Redirect"),(0,a.createElement)("option",{value:"308"},"308 Permanent Redirect")),(0,a.createElement)("button",{onClick:t=>{t.preventDefault(),l(e)},className:"staatic-delete"},(0,a.createElement)(i.Dashicon,{icon:"trash"}),(0,n.__)("Delete","staatic")))}}c.propTypes={index:o().number.isRequired,item:o().object.isRequired};class d extends l.Component{constructor(e){super(...arguments),this.state={items:this.getItems(),editAsText:!1},this.handleToggleEditMode=this.handleToggleEditMode.bind(this),this.handleChange=this.handleChange.bind(this),this.handleDelete=this.handleDelete.bind(this)}componentDidMount(){document.getElementById(this.props.name).style.display="none"}componentDidUpdate(e,t){t.items!==this.state.items&&this.updateItems()}getItems(){const e=document.getElementById(this.props.name).value,t=[];return e.split("\n").forEach((function(e){const s=e.match(/^(#?)\s*(\S+)\s*(\S+)\s*(\d*)$/);if(!s)return;const[,a,n,i,l]=s;t.push({isEnabled:!a,path:n,redirectUrl:i,statusCode:l})})),t}updateItems(){let e="";this.state.items.forEach((function(t){t.path&&t.redirectUrl&&(e+=(t.isEnabled?"":"# ")+t.path+` ${t.redirectUrl}`+(t.statusCode?` ${t.statusCode}`:"")+"\n")})),document.getElementById(this.props.name).value=e}handleToggleEditMode(){document.getElementById(this.props.name).style.display=this.state.editAsText?"none":"inline-block",this.state.editAsText&&this.setState({items:this.getItems()}),this.setState({editAsText:!this.state.editAsText})}handleAddItem(){this.setState({items:[...this.state.items,{isEnabled:!0,path:"",redirectUrl:"",statusCode:302}]})}handleChange(e,t,s){"path"!=t&&"redirectUrl"!=t||(s=s.replace(/\s/g,""));const a=[...this.state.items];a[e][t]=s,this.setState({items:a})}handleDelete(e){const t=[...this.state.items];t.splice(e,1),this.setState({items:t})}render(){return this.state.editAsText?(0,a.createElement)("div",{className:"staatic-list-toggle"},(0,a.createElement)("a",{onClick:this.handleToggleEditMode},(0,n.__)("Visual mode","staatic"))):(0,a.createElement)("div",null,(0,a.createElement)("div",{className:"staatic-list-toggle"},(0,a.createElement)("a",{onClick:this.handleToggleEditMode},(0,n.__)("Text mode","staatic"))),(0,a.createElement)("div",{className:"staatic-list"},this.state.items.map(((e,t)=>(0,a.createElement)("div",{key:t,className:"staatic-item staatic-redirect-item"},(0,a.createElement)(c,{index:t,item:e,onChange:this.handleChange,onDelete:this.handleDelete})))),(0,a.createElement)("button",{className:"staatic-add",onClick:e=>{e.preventDefault(),this.handleAddItem()}},(0,a.createElement)(i.Dashicon,{icon:"plus"}),(0,n.__)("Add Redirect","staatic"))))}}d.propTypes={name:o().string.isRequired};var u=d},723:function(e,t,s){"use strict";s.r(t),s.d(t,{RetainPaths:function(){return d},default:function(){return u}});var a=s(196),n=s(736),i=s(609),l=s(307),r=s(697),o=s.n(r);class c extends l.Component{render(){const{index:e,item:t,onChange:s,onDelete:l}=this.props,r=e=>{"Enter"===e.key&&e.preventDefault()},o=t.isEnabled?"":"staatic-disabled";return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("input",{type:"checkbox",defaultChecked:t.isEnabled,onChange:t=>s(e,"isEnabled",t.target.checked),onKeyDown:r}),(0,a.createElement)("input",{type:"text",value:t.value,placeholder:(0,n.__)("Path","staatic"),className:`staatic-value ${o}`,onChange:t=>s(e,"value",t.target.value),onKeyDown:r}),(0,a.createElement)("button",{onClick:t=>{t.preventDefault(),l(e)},className:"staatic-delete"},(0,a.createElement)(i.Dashicon,{icon:"trash"}),(0,n.__)("Delete","staatic")))}}c.propTypes={index:o().number.isRequired,item:o().object.isRequired};class d extends l.Component{constructor(e){super(...arguments),this.state={items:this.getItems(),editAsText:!1},this.handleToggleEditMode=this.handleToggleEditMode.bind(this),this.handleChange=this.handleChange.bind(this),this.handleDelete=this.handleDelete.bind(this)}componentDidMount(){document.getElementById(this.props.name).style.display="none"}componentDidUpdate(e,t){t.items!==this.state.items&&this.updateItems()}getItems(){const e=document.getElementById(this.props.name).value,t=[];return e.split("\n").forEach((function(e){const s=e.match(/^(#?)\s*(\S+)$/);if(!s)return;const[,a,n]=s;t.push({isEnabled:!a,value:n})})),t}updateItems(){let e="";this.state.items.forEach((function(t){t.value&&(e+=(t.isEnabled?"":"# ")+t.value+"\n")})),document.getElementById(this.props.name).value=e}handleToggleEditMode(){document.getElementById(this.props.name).style.display=this.state.editAsText?"none":"inline-block",this.state.editAsText&&this.setState({items:this.getItems()}),this.setState({editAsText:!this.state.editAsText})}handleAddItem(){this.setState({items:[...this.state.items,{isEnabled:!0,value:""}]})}handleChange(e,t,s){"value"==t&&(s=s.replace(/\s/g,""));const a=[...this.state.items];a[e][t]=s,this.setState({items:a})}handleDelete(e){const t=[...this.state.items];t.splice(e,1),this.setState({items:t})}render(){return this.state.editAsText?(0,a.createElement)("div",{className:"staatic-list-toggle"},(0,a.createElement)("a",{onClick:this.handleToggleEditMode},(0,n.__)("Visual mode","staatic"))):(0,a.createElement)("div",null,(0,a.createElement)("div",{className:"staatic-list-toggle"},(0,a.createElement)("a",{onClick:this.handleToggleEditMode},(0,n.__)("Text mode","staatic"))),(0,a.createElement)("div",{className:"staatic-list"},this.state.items.map(((e,t)=>(0,a.createElement)("div",{key:t,className:"staatic-item"},(0,a.createElement)(c,{index:t,item:e,onChange:this.handleChange,onDelete:this.handleDelete})))),(0,a.createElement)("button",{className:"staatic-add",onClick:e=>{e.preventDefault(),this.handleAddItem()}},(0,a.createElement)(i.Dashicon,{icon:"plus"}),(0,n.__)("Add Path","staatic"))))}}d.propTypes={name:o().string.isRequired};var u=d},421:function(e,t,s){"use strict";s.r(t),s.d(t,{S3Endpoint:function(){return o}});var a=s(196),n=s(736),i=s(307),l=s(697),r=s.n(l);class o extends i.Component{constructor(e){super(e),this.providers=[{name:"aws",label:"Amazon S3 ("+(0,n.__)("automatic","staatic")+")"},{name:"custom",label:(0,n.__)("Custom endpoint","staatic")}],this.setInitialState()}setInitialState(){const e=document.getElementById(this.props.name).value;this.state={provider:e?"custom":"aws",endpoint:e}}componentDidMount(){document.getElementById(this.props.name).style.display="none"}componentDidUpdate(){this.updateExternalValue()}updateExternalValue(){document.getElementById(this.props.name).value=this.state.endpoint}handleProviderChange(e){this.setState({provider:e,endpoint:""})}handleEndpointChange(e){this.setState({endpoint:e})}render(){return(0,a.createElement)("div",null,(0,a.createElement)("div",{className:"staatic-s3-endpoint"},(0,a.createElement)("select",{value:this.state.provider,onChange:e=>this.handleProviderChange(e.target.value)},(0,a.createElement)("option",null),this.providers.map((e=>(0,a.createElement)("option",{key:e.name,value:e.name},e.label)))),"custom"===this.state.provider?(0,a.createElement)("input",{className:"regular-text code",type:"text",value:this.state.endpoint,onChange:e=>this.handleEndpointChange(e.target.value),placeholder:"https://"}):null))}}o.propTypes={name:r().string.isRequired},t.default=o},703:function(e,t,s){"use strict";var a=s(414);function n(){}function i(){}i.resetWarningCache=n,e.exports=function(){function e(e,t,s,n,i,l){if(l!==a){var r=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw r.name="Invariant Violation",r}}function t(){return e}e.isRequired=e;var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:n};return s.PropTypes=s,s}},697:function(e,t,s){e.exports=s(703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},323:function(e,t,s){var a={"./CrawlItems/index.js":641,"./DestinationUrl/index.js":845,"./ExcludedUrls/index.js":647,"./GithubStatus/index.js":143,"./NetlifyStatus/index.js":996,"./PublicationLogs/index.js":325,"./PublicationStatus/index.js":27,"./RedirectItems/index.js":181,"./RetainPaths/index.js":723,"./S3Endpoint/index.js":421};function n(e){var t=i(e);return s(t)}function i(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=i,e.exports=n,n.id=323},196:function(e){"use strict";e.exports=window.React},989:function(e){"use strict";e.exports=window.wp.apiFetch},609:function(e){"use strict";e.exports=window.wp.components},307:function(e){"use strict";e.exports=window.wp.element},736:function(e){"use strict";e.exports=window.wp.i18n}},t={};function s(a){var n=t[a];if(void 0!==n)return n.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,s),i.exports}s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e=window.wp.domReady,t=s.n(e),a=s(307);class n{constructor(){this.settings=[]}setup(e){this.findSettings(),this.toggleRelevantSettingsFor(e.value),e.addEventListener("change",(e=>{this.toggleRelevantSettingsFor(e.target.value)}))}findSettings(){document.querySelectorAll("#staatic-settings tr").forEach(((e,t)=>{e.classList.contains("staatic_deployment_method")||e.classList.forEach((t=>{const s=t.match(/^staatic_(.+?)_(.+)$/);s&&this.settings.push({name:s[0],group:s[1],element:e})}))}))}toggleRelevantSettingsFor(e){this.settings.forEach((t=>{const s=t.group===e;t.element.style.display=s?"":"none"}))}}var i=s(196);t()((function(){const e=document.querySelector("select#staatic_deployment_method");var t;e&&(new n).setup(e),t=a.createRoot,document.querySelectorAll("[data-staatic-component]").forEach((e=>{const a=s(323)(`./${e.dataset.staaticComponent}/index.js`).default;t(e).render((0,i.createElement)(a,{...e.dataset}))}))}))}()}();